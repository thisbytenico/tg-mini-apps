import{an as t,ao as e,_ as a,$ as n,Q as i,x as r,G as s,O as o,H as u,Y as c,N as l,g as d,k as h,i as f,w as p,l as m,t as D,h as y,I as $,F as _,p as g,al as w,E as C,W as S,V as k,A as T,y as M,L as b,a4 as v,M as E,r as O,n as Y,q as I}from"./index-Ci2ntzNm.js";import{_ as x}from"./dw-cell-group.Db-ry5CN.js";import{_ as P}from"./u-datetime-picker.BwvSjS2q.js";import"./u-picker.umNqIkHP.js";import"./u-loading-icon.CX2H3iv7.js";var L={exports:{}};const A=e(L.exports=function(){var t=1e3,e=6e4,a=36e5,n="millisecond",i="second",r="minute",s="hour",o="day",u="week",c="month",l="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],a=t%100;return"["+t+(e[(a-20)%10]||e[a]||e[0])+"]"}},y=function(t,e,a){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(a)+t},$={s:y,z:function(t){var e=-t.utcOffset(),a=Math.abs(e),n=Math.floor(a/60),i=a%60;return(e<=0?"+":"-")+y(n,2,"0")+":"+y(i,2,"0")},m:function t(e,a){if(e.date()<a.date())return-t(a,e);var n=12*(a.year()-e.year())+(a.month()-e.month()),i=e.clone().add(n,c),r=a-i<0,s=e.clone().add(n+(r?-1:1),c);return+(-(n+(a-i)/(r?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:o,D:h,h:s,m:r,s:i,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",g={};g[_]=D;var w="$isDayjsObject",C=function(t){return t instanceof M||!(!t||!t[w])},S=function t(e,a,n){var i;if(!e)return _;if("string"==typeof e){var r=e.toLowerCase();g[r]&&(i=r),a&&(g[r]=a,i=r);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var o=e.name;g[o]=e,i=o}return!n&&i&&(_=i),i||!n&&_},k=function(t,e){if(C(t))return t.clone();var a="object"==typeof e?e:{};return a.date=t,a.args=arguments,new M(a)},T=$;T.l=S,T.i=C,T.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function D(t){this.$L=S(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var y=D.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,a=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,r=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(e)}(t),this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return T},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(t,e){var a=k(t);return this.startOf(e)<=a&&a<=this.endOf(e)},y.isAfter=function(t,e){return k(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<k(t)},y.$g=function(t,e,a){return T.u(t)?this[e]:this.set(a,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var a=this,n=!!T.u(e)||e,l=T.p(t),f=function(t,e){var i=T.w(a.$u?Date.UTC(a.$y,e,t):new Date(a.$y,e,t),a);return n?i:i.endOf(o)},p=function(t,e){return T.w(a.toDate()[t].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),a)},m=this.$W,D=this.$M,y=this.$D,$="set"+(this.$u?"UTC":"");switch(l){case d:return n?f(1,0):f(31,11);case c:return n?f(1,D):f(0,D+1);case u:var _=this.$locale().weekStart||0,g=(m<_?m+7:m)-_;return f(n?y-g:y+(6-g),D);case o:case h:return p($+"Hours",0);case s:return p($+"Minutes",1);case r:return p($+"Seconds",2);case i:return p($+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var a,u=T.p(t),l="set"+(this.$u?"UTC":""),f=(a={},a[o]=l+"Date",a[h]=l+"Date",a[c]=l+"Month",a[d]=l+"FullYear",a[s]=l+"Hours",a[r]=l+"Minutes",a[i]=l+"Seconds",a[n]=l+"Milliseconds",a)[u],p=u===o?this.$D+(e-this.$W):e;if(u===c||u===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[T.p(t)]()},y.add=function(n,l){var h,f=this;n=Number(n);var p=T.p(l),m=function(t){var e=k(f);return T.w(e.date(e.date()+Math.round(t*n)),f)};if(p===c)return this.set(c,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===o)return m(1);if(p===u)return m(7);var D=(h={},h[r]=e,h[s]=a,h[i]=t,h)[p]||1,y=this.$d.getTime()+n*D;return T.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,a=this.$locale();if(!this.isValid())return a.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),r=this.$H,s=this.$m,o=this.$M,u=a.weekdays,c=a.months,l=a.meridiem,d=function(t,a,i,r){return t&&(t[a]||t(e,n))||i[a].slice(0,r)},h=function(t){return T.s(r%12||12,t,"0")},p=l||function(t,e,a){var n=t<12?"AM":"PM";return a?n.toLowerCase():n};return n.replace(m,(function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return T.s(e.$y,4,"0");case"M":return o+1;case"MM":return T.s(o+1,2,"0");case"MMM":return d(a.monthsShort,o,c,3);case"MMMM":return d(c,o);case"D":return e.$D;case"DD":return T.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(a.weekdaysMin,e.$W,u,2);case"ddd":return d(a.weekdaysShort,e.$W,u,3);case"dddd":return u[e.$W];case"H":return String(r);case"HH":return T.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(r,s,!0);case"A":return p(r,s,!1);case"m":return String(s);case"mm":return T.s(s,2,"0");case"s":return String(e.$s);case"ss":return T.s(e.$s,2,"0");case"SSS":return T.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,h,f){var p,m=this,D=T.p(h),y=k(n),$=(y.utcOffset()-this.utcOffset())*e,_=this-y,g=function(){return T.m(m,y)};switch(D){case d:p=g()/12;break;case c:p=g();break;case l:p=g()/3;break;case u:p=(_-$)/6048e5;break;case o:p=(_-$)/864e5;break;case s:p=_/a;break;case r:p=_/e;break;case i:p=_/t;break;default:p=_}return f?p:T.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return g[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var a=this.clone(),n=S(t,e,!0);return n&&(a.$L=n),a},y.clone=function(){return T.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},D}(),b=M.prototype;return k.prototype=b,[["$ms",n],["$s",i],["$m",r],["$H",s],["$W",o],["$M",c],["$y",d],["$D",h]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,M,k),t.$i=!0),k},k.locale=S,k.isDayjs=C,k.unix=function(t){return k(1e3*t)},k.en=g[_],k.Ls=g,k.p={},k}());const U=a({name:"",components:{myDatePicker:a({name:"",components:{},data:()=>({isShowPopup:!1,type:"month",isShowDatePicker:!1,isShowStartDatePicker:!1,isShowEndDatePicker:!1,yrDate:A((new Date).getTime()).format("YYYY-MM"),startDate:A((new Date).getTime()).format("YYYY-MM-DD"),endDate:A((new Date).getTime()).format("YYYY-MM-DD"),value:""}),created(){n("qualificationCertificateAll",(()=>{this.value="",this.$emit("pickerData",{type:"all"})}))},unmounted(){i("qualificationCertificateAll")},watch:{},computed:{},methods:{delData(){this.yrDate="",this.startDate="",this.endDate=""},actionConfirm(){switch(this.type){case"month":if(!this.yrDate)return r({title:"请选择月份",icon:"none"});this.value=this.yrDate,this.$emit("pickerData",{type:"month",val:this.yrDate});break;case"day":if(!this.startDate||!this.endDate)return r({title:"请选择日期",icon:"none"});this.value=`${this.startDate}至${this.endDate}`,this.$emit("pickerData",{type:"start_end",startDate:this.startDate,endDate:this.endDate})}this.isShowPopup=!1},actionChangeType(){this.type="month"==this.type?"day":"month"},actionShowYearMonth(){this.isShowDatePicker=!0},actionDateConfirm(t){console.log(t),this.isShowDatePicker=!1,this.yrDate=A(t.value).format("YYYY-MM")},actionStartDateConfirm(t){this.isShowStartDatePicker=!1,this.startDate=A(t.value).format("YYYY-MM-DD")},actionEndDateConfirm(t){this.isShowEndDatePicker=!1,this.endDate=A(t.value).format("YYYY-MM-DD")},formatter:(t,e)=>"year"===t?`${e}年`:"month"===t?`${e}月`:"day"===t?`${e}日`:"hour"===t?`${e}时`:"minute"===t?`${e}分`:e,ajaxXxx(){}}},[["render",function(t,e,a,n,i,r){const w=s(u("dw-icon"),o),C=g,S=s(u("u-navbar"),c),k=s(u("u-datetime-picker"),P),T=s(u("u-popup"),l);return d(),h(_,null,[f(C,{class:"date-box",onClick:e[0]||(e[0]=t=>i.isShowPopup=!0)},{default:p((()=>[m(D(i.value||"全部数据")+" ",1),f(w,{name:"down-fill",size:"28rpx",color:"#666"})])),_:1}),f(C,null,{default:p((()=>[f(T,{show:i.isShowPopup},{default:p((()=>[f(C,{style:{height:"100vh"}},{default:p((()=>[f(S,{title:"选择时间",onLeftClick:e[1]||(e[1]=t=>i.isShowPopup=!1),onRightClick:r.actionConfirm,placeholder:"",border:""},{left:p((()=>[m("取消")])),right:p((()=>[m("完成")])),_:1},8,["onRightClick"]),f(C,{class:"date-box-popup"},{default:p((()=>[f(C,{class:"date-box-popup-btn",onClick:r.actionChangeType},{default:p((()=>["month"==i.type?(d(),y(C,{key:0},{default:p((()=>[m("按月选择")])),_:1})):$("",!0),"day"==i.type?(d(),y(C,{key:1},{default:p((()=>[m("按日选择")])),_:1})):$("",!0),f(w,{name:"switch",size:"20rpx",class:"ml4",color:"#ccc"})])),_:1},8,["onClick"]),f(C,{class:"date-box-popup-datepicker"},{default:p((()=>["month"===i.type?(d(),y(C,{key:0,class:"date-box-popup-datepicker-item",onClick:e[2]||(e[2]=t=>i.isShowDatePicker=!0)},{default:p((()=>[m(D(i.yrDate||"选择月份"),1)])),_:1})):$("",!0),"day"===i.type?(d(),h(_,{key:1},[f(C,{class:"date-box-popup-datepicker-item",onClick:e[3]||(e[3]=t=>i.isShowStartDatePicker=!0)},{default:p((()=>[m(D(i.startDate||"开始时间"),1)])),_:1}),f(C,{class:"date-box-popup-datepicker-and"},{default:p((()=>[m("至")])),_:1}),f(C,{class:"date-box-popup-datepicker-item",onClick:e[4]||(e[4]=t=>i.isShowEndDatePicker=!0)},{default:p((()=>[m(D(i.endDate||"结束时间"),1)])),_:1})],64)):$("",!0)])),_:1}),f(C,{class:"flex justify-end mt12"},{default:p((()=>[f(w,{onClick:r.delData,name:"delete",size:"36rpx",color:"#999"},null,8,["onClick"])])),_:1}),f(k,{modelValue:i.yrDate,"onUpdate:modelValue":e[5]||(e[5]=t=>i.yrDate=t),show:i.isShowDatePicker,onCancel:e[6]||(e[6]=t=>i.isShowDatePicker=!1),onConfirm:r.actionDateConfirm,mode:"year-month",formatter:r.formatter},null,8,["modelValue","show","onConfirm","formatter"]),f(k,{modelValue:i.startDate,"onUpdate:modelValue":e[7]||(e[7]=t=>i.startDate=t),show:i.isShowStartDatePicker,onCancel:e[8]||(e[8]=t=>i.isShowStartDatePicker=!1),onConfirm:r.actionStartDateConfirm,mode:"date",formatter:r.formatter},null,8,["modelValue","show","onConfirm","formatter"]),f(k,{modelValue:i.endDate,"onUpdate:modelValue":e[9]||(e[9]=t=>i.endDate=t),show:i.isShowEndDatePicker,onCancel:e[10]||(e[10]=t=>i.isShowEndDatePicker=!1),onConfirm:r.actionEndDateConfirm,mode:"date",formatter:r.formatter},null,8,["modelValue","show","onConfirm","formatter"])])),_:1})])),_:1})])),_:1},8,["show"])])),_:1})],64)}],["__scopeId","data-v-96aa83d7"]])},data:()=>({month:"",begin:"",end:"",isDefault:!0,pageTitle:"",dataList:[],curTab:0,tabList:[{name:"全部"},{name:"种植业",productType:"01"},{name:"畜牧业",productType:"02"},{name:"水产业",productType:"03"}]}),onLoad(t){},watch:{curTab(){this.dataList=[],this.$refs.paging.reload()}},computed:{},methods:{pickerData(t){"month"==t.type&&(this.month=t.val,this.begin="",this.end=""),"start_end"==t.type&&(this.begin=t.startDate,this.end=t.endDate,this.month=""),"all"==t.type&&(this.month="",this.begin="",this.end=""),console.log(this.month,t),this.$refs.paging.reload()},timeFormat:()=>w,actionJumpTo(t){C({url:t})},actionSearch(){this.dataList=[],this.queryList(),S("qualificationCertificateAll")},afterRead(){},CERTIFICATION_CODE(t){if(t){let e=t.split(",");return 1==e.length?t:e[0]+"~"+e[e.length-1]}},initPage(){switch(this.type){case"add":this.pageTitle="新增农事";break;case"edit":this.pageTitle="编辑农事"}k({title:this.pageTitle})},go_info(t){let e={address:t.ADDRESS,amount:t.AMOUNT,certificationCode:t.CERTIFICATION_CODE,createBy:t.CREATE_BY,createTime:t.CREATE_TIME,delFlag:t.DEL_FLAG,detailUrl:t.DETAIL_URL,eligibleWay:t.ELIGIBLE_WAY,empName:t.EMP_NAME,entityIdCode:t.ENTITY_ID_CODE,id:t.ID,issueSheets:t.ISSUE_SHEETS,issueTime:t.ISSUE_TIME,num:t.NUM,personSignUrl:t.PERSON_SIGN_URL,phone:t.PHONE,productAddress:t.PRODUCT_ADDRESS,productName:t.PRODUCT_NAME,productPerson:t.PRODUCT_PERSON,productType:t.PRODUCT_TYPE,traceCode:t.TRACE_CODE,unit:t.UNIT,updateBy:t.UPDATE_BY,updateTime:t.UPDATE_TIME,userIdCode:t.USER_ID_CODE};console.log(e),C({url:"/pages/qualificationCertificate/detail?info="+encodeURIComponent(JSON.stringify(e))})},queryList(t,e){let a={start:10*t,length:10,entityIdCode:T("userInfo").entityIdcode,productType:this.tabList[this.curTab].productType?this.tabList[this.curTab].productType:""};this.month&&(a.month=this.month),this.begin&&(a.begin=this.begin,a.end=this.end),this.month||this.begin||this.tabList[this.curTab].productType?a.isAll="N":a.isAll="Y",M.post("sofn-tts-web-branch/ttsCertification/getUserCertificateListByTime",a,{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:T("token")},toast:!1}).then((t=>{this.$refs.paging.complete(t.data.list)}))},ajaxXxx(){}}},[["render",function(t,e,a,n,i,r){const l=s(u("u-navbar"),c),$=g,w=b("myDatePicker"),C=I,S=s(u("dw-icon"),o),k=s(u("dw-cell"),v),T=s(u("dw-cell-group"),x),M=s(u("z-paging"),E);return d(),y($,{class:"qua-cert"},{default:p((()=>[f(l,{title:"合格证记录",autoBack:!0,placeholder:"",border:""}),f($,{class:"qua-cert-tabs"},{default:p((()=>[(d(!0),h(_,null,O(i.tabList,((t,e)=>(d(),y($,{class:Y(["qua-cert-tabs-item",{checked:e===i.curTab}]),key:e,onClick:t=>i.curTab=e},{default:p((()=>[m(D(t.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),f($,{class:"flex pl12 pr12 pt12 pb12 justify-between"},{default:p((()=>[f($,null,{default:p((()=>[f(w,{onPickerData:r.pickerData},null,8,["onPickerData"])])),_:1}),f($,{onClick:r.actionSearch},{default:p((()=>[m("查询所有")])),_:1},8,["onClick"])])),_:1}),f($,{class:"qua-cert-body"},{default:p((()=>[f(M,{fixed:!1,ref:"paging","empty-view-text":"没有相应的合格证",modelValue:i.dataList,"onUpdate:modelValue":e[0]||(e[0]=t=>i.dataList=t),onQuery:r.queryList,"default-page-no":"0"},{default:p((()=>[f(T,null,{default:p((()=>[(d(!0),h(_,null,O(i.dataList,((t,e)=>(d(),y(k,{onClick:e=>r.go_info(t),key:e,style:{"font-size":"24rpx","line-height":"50rpx"}},{default:p((()=>[f($,{class:"flex justify-between"},{default:p((()=>[f($,null,{default:p((()=>[m(D(t.PRODUCT_NAME),1)])),_:2},1024),f($,null,{default:p((()=>[f(C,{class:"fw700",style:{color:"#FB741C"}},{default:p((()=>[m(D(t.AMOUNT),1)])),_:2},1024),m(" "+D(t.UNIT),1)])),_:2},1024)])),_:2},1024),f($,{style:{display:"flex"}},{default:p((()=>[m("证号:"),f($,{style:{flex:"1"}},{default:p((()=>[m(D(r.CERTIFICATION_CODE(t.CERTIFICATION_CODE)),1)])),_:2},1024)])),_:2},1024),f($,{class:"flex justify-between items-center"},{default:p((()=>[f($,null,{default:p((()=>[m(D(t.ELIGIBLE_WAY),1)])),_:2},1024),f($,{class:"ft12 text-desc"},{default:p((()=>[f(S,{name:"time-circle",size:"24rpx"}),m(" "+D(r.timeFormat()(t.CREATE_TIME,"yyyy-mm-dd")),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue","onQuery"])])),_:1})])),_:1})}],["__scopeId","data-v-d55e8504"]]);export{U as default};
