import{_ as e,$ as t,v as a,al as s,E as o,x as i,V as l,y as d,A as n,G as c,H as r,h as f,w as u,Y as p,p as m,O as g,M as _,g as h,i as y,l as b,t as x,k as I,r as T,F as w,J as A,n as R,I as k}from"./index-BUnLS0SE.js";import{_ as N,a as U}from"./dw-steps.zu_fXxWk.js";import{_ as E}from"./dw-card.thw4LkDT.js";import{_ as L}from"./meat.BL_rj_au.js";const C=e({name:"",components:{},data:()=>({info:{},baseInfo:{},isDefault:!0,pageTitle:"",dataList:[]}),onLoad(e){const{type:a,info:s,baseInfo:o}=e;try{this.info=JSON.parse(decodeURIComponent(s)),this.baseInfo=JSON.parse(decodeURIComponent(o))}catch(i){}t("baseRefresh",(()=>{this.$refs.paging.reload()})),this.type=a,this.initPage()},watch:{},computed:{config:()=>a},methods:{timeFormat:s,actionJumpTo(e){o({url:e})},actionSubmit(){i({title:"点击保存",duration:2e3})},actionDelete(e){this.fileList.splice(e.index,1),i({icon:"none",title:"删除图片"})},afterRead(){},initPage(){switch(this.type){case"add":this.pageTitle="新增农事";break;case"edit":this.pageTitle="编辑农事"}l({title:this.pageTitle})},queryList(e,t){d.post("sofn-tts-web-branch/ttsScltxxcjFarmingTask/getFarmingTaskList",{agriId:this.info.ID},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:n("token")},toast:!1}).then((e=>{this.$refs.paging.complete(e.data)})).catch((e=>{this.$refs.paging.complete(!1)}))},ajaxXxx(){}}},[["render",function(e,t,a,s,o,i){const l=c(r("u-navbar"),p),d=m,n=A,C=c(r("dw-steps-item"),N),F=c(r("dw-steps"),U),j=c(r("dw-icon"),g),v=c(r("dw-card"),E),J=c(r("z-paging"),_);return h(),f(d,{class:"produce-detail"},{default:u((()=>[y(l,{title:"查看详情",autoBack:!0,placeholder:"",border:""}),y(d,{class:"pl12 pt16 pb10 fw700"},{default:u((()=>[b("生产信息")])),_:1}),y(d,{class:"produce-detail-goods"},{default:u((()=>[y(n,{class:"produce-detail-goods-icon",src:L}),y(d,{class:"produce-detail-goods-body"},{default:u((()=>[y(d,{class:"flex justify-between"},{default:u((()=>[y(d,null,{default:u((()=>[b(x(o.info.AGRI_PRODUCT_NAME),1)])),_:1}),y(d,{class:"ft14"},{default:u((()=>[b(x(i.config.getAreaText(o.info.INDUSTRY_TYPE))+"："+x(o.info.AREA)+x(o.info.AREA_UNIT),1)])),_:1})])),_:1}),y(d,{class:"text-desc ft14 mt5"},{default:u((()=>[b("基地名称："+x(o.baseInfo.NAME),1)])),_:1}),y(d,{class:"text-desc ft14 mt6"},{default:u((()=>[b("开始时间："+x(i.timeFormat(o.info.CREATE_TIME,"yyyy-mm-dd")),1)])),_:1})])),_:1})])),_:1}),y(d,{class:"pl12 pt16 pb10 fw700"},{default:u((()=>[b("生产过程")])),_:1}),y(d,{class:"produce-detail-body"},{default:u((()=>[y(J,{fixed:!1,ref:"paging",modelValue:o.dataList,"onUpdate:modelValue":t[1]||(t[1]=e=>o.dataList=e),onQuery:i.queryList,"loading-more-no-more-text":""},{default:u((()=>[y(v,null,{default:u((()=>[y(F,null,{default:u((()=>[(h(!0),I(w,null,T(o.dataList,((e,t)=>(h(),f(C,{key:t},{title:u((()=>[y(d,{class:R(["pt12",{"item-border":0!==t}])},{default:u((()=>[b(x(e.taskName),1)])),_:2},1032,["class"])])),default:u((()=>[y(d,{class:"ft14 text-level2"},{default:u((()=>[y(d,null,{default:u((()=>[b("时间："+x(i.timeFormat(e.operationTime,"yyyy-mm-dd hh:MM")),1)])),_:2},1024),e.eligibleResult?(h(),f(d,{key:0},{default:u((()=>[b("收获："+x(e.harvestAmount)+x(e.harvestUnit),1)])),_:2},1024)):k("",!0),y(d,null,{default:u((()=>[b("负责人："+x(e.handlerName),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),y(d,{class:"produce-detail-btn",onClick:t[0]||(t[0]=e=>i.actionJumpTo("/pages/agriculturalActivites/edit?type=add&info="+encodeURIComponent(JSON.stringify(o.info))+`&baseInfo=${encodeURIComponent(JSON.stringify(this.baseInfo))}`))},{default:u((()=>[y(j,{name:"plus-circle",size:"36rpx",color:"#0AB468"}),y(d,{class:"ml3"},{default:u((()=>[b("新增农事活动")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onQuery"])])),_:1})])),_:1})}],["__scopeId","data-v-3bb149ed"]]);export{C as default};
