import{_ as e,T as a,y as t,A as s,x as o,U as l,G as r,H as n,h as c,w as d,Y as u,O as i,p as m,M as f,g as p,i as h,k as _,r as w,F as g,l as k,t as x}from"./index-BdsNz36l.js";import{_ as y}from"./u-search.6EBFj5w8.js";import{_ as C}from"./dw-card.CsilklMs.js";const S=e({name:"",components:{},data:()=>({keyword:"",productList:[{name:"毛尖茶"},{name:"蛹虫草"}],dataList:[]}),created(){},watch:{},computed:{},methods:{actionSearch(){this.$refs.paging.reload()},actionCustomSearch(){this.$refs.paging.reload()},actionDelete(e){a({title:"删除中...",mask:!0}),t.post("sofn-tts-web-branch/ttsScltxxcjCustomer/deleteTtsScltxxcjCustomer",{id:e.ID,token:s("token")},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:s("token")},toast:!1}).then((e=>{200==e.httpCode&&(o({title:"删除成功",icon:"none"}),this.$refs.paging.reload())})).finally((()=>{l()}))},queryList(e,a){let o=30*e;t.post("sofn-tts-web-branch/ttsScltxxcjCustomer/getPageInfo",{start:o,length:30,id:s("userInfo").id,name:this.keyword,token:s("token")},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:s("token")},toast:!1}).then((e=>{this.$refs.paging.complete(e.data.list)}))},ajaxXxx(){}}},[["render",function(e,a,t,s,o,l){const S=r(n("u-navbar"),u),b=r(n("u-search"),y),E=r(n("dw-icon"),i),U=m,j=r(n("dw-card"),C),D=r(n("z-paging"),f);return p(),c(U,{class:"customer"},{default:d((()=>[h(S,{title:"客户管理",autoBack:!0,placeholder:"",border:""}),h(b,{class:"customer-search",shape:"square",placeholder:"用户名字/联系方式/单位名称/主体身份码",modelValue:o.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>o.keyword=e),showAction:!1,onSearch:l.actionSearch,onCustom:l.actionCustomSearch},null,8,["modelValue","onSearch","onCustom"]),h(U,{class:"customer-list"},{default:d((()=>[h(D,{"default-page-no":"0",fixed:!1,ref:"paging",modelValue:o.dataList,"onUpdate:modelValue":a[1]||(a[1]=e=>o.dataList=e),onQuery:l.queryList},{default:d((()=>[(p(!0),_(g,null,w(o.dataList,((e,a)=>(p(),c(j,{"custom-class":"customer-card ft14",shape:"square",key:a},{default:d((()=>[h(U,{class:"customer-card-del",onClick:a=>l.actionDelete(e)},{default:d((()=>[h(E,{name:"delete",size:"24rpx",class:"mr3",color:"#666"}),k(" 删除 ")])),_:2},1032,["onClick"]),h(U,{class:"customer-card-body ft14"},{default:d((()=>[h(U,{class:"ft14 fw700"},{default:d((()=>[k(x(e.USER_NAME),1)])),_:2},1024),h(U,null,{default:d((()=>[k("联系电话："+x(e.PHONE),1)])),_:2},1024),h(U,null,{default:d((()=>[k("客户主体身份证号码："+x(e.CUSTOMER_USER_ID_CODE||"无"),1)])),_:2},1024),h(U,null,{default:d((()=>[k("单位名称："+x(e.NAME),1)])),_:2},1024),h(U,null,{default:d((()=>[k("单位地址："+x(e.ADDRESS),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue","onQuery"])])),_:1})])),_:1})}],["__scopeId","data-v-ef6a26b5"]]);export{S as default};
