import{_ as a,aJ as s,C as e,X as t,W as o,E as i,y as l,G as d,H as c,h as r,w as n,Y as u,O as f,p as h,M as p,g as m,i as g,k as w,r as y,F as _,l as k,t as S}from"./index-Ci2ntzNm.js";import{_ as C}from"./u-search.BxsWfdfi.js";const b=a({name:"",components:{},data:()=>({keyword:"",location:"",dataList:[]}),created(){s({type:"wgs84",success:a=>{this.location=a.longitude+","+a.latitude,this.$refs.paging.reload()},fail:a=>{e("获取定位失败"),this.location="116.404,39.915",this.$refs.paging.reload()},finally:a=>{}})},watch:{},computed:{},methods:{actionSubmit(){let a=this.dataList.find((a=>a.isShow));a?(t(),o("selectAddress",a)):e("请选择地址")},actionChangeLoc(a){this.dataList.forEach((a=>{a.isShow=!1})),a.isShow=!0},actionSearch(){this.$refs.paging.reload()},actionCustomSearch(){this.$refs.paging.reload()},actionJumpTo(a){i({url:a})},queryList(a,s){let e={location:this.location,key:"d246da9e7f79486b030fbcc4007b8fae",page:a,offset:s,keywords:this.keyword},t="";for(const o in e)t+=o+"="+e[o]+"&";l.get("https://restapi.amap.com/v3/place/around?"+t).then((a=>{"1"===a.status?(a.pois.forEach((a=>{a.isShow=!1})),this.$refs.paging.complete(a.pois)):this.$refs.paging.complete(!1)}))},ajaxXxx(){}}},[["render",function(a,s,e,t,o,i){const l=d(c("u-navbar"),u),b=d(c("u-search"),C),L=d(c("dw-icon"),f),x=h,V=d(c("z-paging"),p);return m(),r(x,{class:"address"},{default:n((()=>[g(l,{title:"选择地址",autoBack:!0,placeholder:"",border:""}),g(b,{class:"address-search",shape:"square",placeholder:"输入你想要搜索的位置",modelValue:o.keyword,"onUpdate:modelValue":s[0]||(s[0]=a=>o.keyword=a),showAction:!1,onSearch:i.actionSearch,onCustom:i.actionCustomSearch},null,8,["modelValue","onSearch","onCustom"]),g(x,{class:"address-list"},{default:n((()=>[g(V,{auto:!1,fixed:!1,ref:"paging",modelValue:o.dataList,"onUpdate:modelValue":s[1]||(s[1]=a=>o.dataList=a),onQuery:i.queryList},{default:n((()=>[(m(!0),w(_,null,y(o.dataList,((a,s)=>(m(),r(x,{class:"address-list-item",onClick:s=>i.actionChangeLoc(a),key:s},{default:n((()=>[g(x,{class:"address-list-item-icon"},{default:n((()=>[g(L,{name:"location-fill",color:a.isShow?"#00b568":"#888"},null,8,["color"])])),_:2},1024),g(x,{class:"address-list-item-body"},{default:n((()=>[g(x,null,{default:n((()=>[k(S(a.name),1)])),_:2},1024),g(x,{class:"ft14 text-desc"},{default:n((()=>[k(S(a.address),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"])])),_:1}),g(x,{class:"address-footer"},{default:n((()=>[g(x,{class:"address-footer-btn",onClick:i.actionSubmit},{default:n((()=>[k(" 保存 ")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-30f898f0"]]);export{b as default};
