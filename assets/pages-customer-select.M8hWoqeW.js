import{_ as e,$ as a,Q as t,C as s,W as o,X as c,E as l,y as r,A as n,G as d,H as i,h as u,w as h,p as m,Y as f,ad as p,a4 as g,M as k,O as C,g as _,i as w,l as y,k as x,r as S,F as L,t as b}from"./index-BdsNz36l.js";import{_ as v}from"./u-search.6EBFj5w8.js";const E=e({name:"",components:{},data:()=>({keyword:"",dataList:[]}),created(){a("refreshCustomerList",(()=>{this.$refs.paging.reload()}))},onUnload(){t("refreshCustomerList")},watch:{},computed:{},methods:{itemChange(e){this.dataList.forEach((e=>{e.checked=!1})),e.checked=!0},actionSubmit(){let e=this.dataList.find((e=>e.checked));e?(o("customerSelect",e),c()):s("请选择客户")},actionSearch(){this.$refs.paging.reload()},actionCustomSearch(){this.$refs.paging.reload()},actionJumpTo(e){l({url:e})},doSomething(){},ajaxXxx(){},queryList(e,a){let t=30*e;r.post("sofn-tts-web-branch/ttsScltxxcjCustomer/getPageInfo",{start:t,length:30,id:n("userInfo").id,name:this.keyword,token:n("token")},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:n("token")},toast:!1}).then((e=>{e.data.list.forEach((e=>{e.checked=!1})),this.$refs.paging.complete(e.data.list)}))}}},[["render",function(e,a,t,s,o,c){const l=m,r=d(i("u-navbar"),f),n=d(i("u-search"),v),E=d(i("u-checkbox"),p),V=d(i("dw-cell"),g),U=d(i("z-paging"),k),$=d(i("dw-icon"),C);return _(),u(l,{class:"customer"},{default:h((()=>[w(r,{title:"选择客户",autoBack:!0,onRightClick:c.actionSubmit,placeholder:"",border:""},{right:h((()=>[w(l,{class:"u-nav-slot"},{default:h((()=>[y("确定")])),_:1})])),_:1},8,["onRightClick"]),w(n,{class:"customer-search",shape:"square",placeholder:"用户名字/联系方式/单位名称/主体身份码",modelValue:o.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>o.keyword=e),showAction:!1,onSearch:c.actionSearch,onCustom:c.actionCustomSearch},null,8,["modelValue","onSearch","onCustom"]),w(l,{class:"customer-list"},{default:h((()=>[w(U,{"default-page-no":"0",fixed:!1,ref:"paging",modelValue:o.dataList,"onUpdate:modelValue":a[1]||(a[1]=e=>o.dataList=e),onQuery:c.queryList},{default:h((()=>[(_(!0),x(L,null,S(o.dataList,((e,a)=>(_(),u(V,{shape:"square",onClick:a=>c.itemChange(e),"custom-class":"mb12",key:a},{prefix:h((()=>[w(l,{style:{"pointer-events":"none"}},{default:h((()=>[w(E,{checked:e.checked,activeColor:"#00B568",shape:"circle"},null,8,["checked"])])),_:2},1024)])),default:h((()=>[w(l,null,{default:h((()=>[w(l,null,{default:h((()=>[y(b(e.NAME),1)])),_:2},1024),w(l,{class:"ft14 text-level2"},{default:h((()=>[y(b(e.USER_NAME),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"])])),_:1}),w(l,{class:"customer-footer"},{default:h((()=>[w(l,{class:"customer-footer-btn",onClick:a[2]||(a[2]=e=>c.actionJumpTo("/pages/customer/edit?type=add"))},{default:h((()=>[w($,{name:"plus"}),y(" 新增客户 ")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-6e9903dd"]]);export{E as default};
