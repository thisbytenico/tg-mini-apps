import{_ as t,y as e,A as l,x as a,W as o,X as s,al as d,E as r,G as u,H as c,L as n,h as i,w as f,p,Y as _,a4 as x,g as h,i as m,l as g,t as I,k as y,r as S,F as v}from"./index-BUnLS0SE.js";import{_ as w}from"./dw-cell-group.D545zRM2.js";import{_ as b,a as k}from"./u-collapse.DMXlTfXW.js";import"./u-cell.BmG7_r4p.js";const U=t({name:"",components:{},data:()=>({productInfo:{},ttsScltxxcjSlaRecord:[],fileList:[{}]}),onLoad(t){this.id=t.id,this.getProductInfo(),this.getTtsScltxxcjSlaRecord()},created(){},watch:{},computed:{},methods:{actionConfirm(){console.log(this.$refs.myFileUploadImage.fileList);let t=this.$refs.myFileUploadImage.fileList.map((t=>t.id)).join(","),d=this.$refs.myFileUploadVideo.fileList.map((t=>t.id)).join(",");e.post("sofn-tts-web-branch/ttsScltxxcjScgl/updateProSource",{entityIdcode:l("userInfo").entityIdcode,imgId:t,videoId:d,productPc:this.productInfo.productPc,userIdcode:this.productInfo.userIdcode},{header:{token:l("token")},toast:!1}).then((t=>{a({title:t.msg,icon:"none",duration:2e3}),200===t.httpCode&&(o("refreshMeatList"),s())}))},timeFormat:()=>d,getTtsScltxxcjSlaRecord(){e.post("sofn-tts-web-branch/ttsScltxxcjSlaRecord/findById",{start:0,length:20,id:this.id},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:l("token")},toast:!1}).then((t=>{this.ttsScltxxcjSlaRecord=t.data.list}))},getProductInfo(){e.post("sofn-tts-web-branch/ttsScltxxcjScgl/getproductInfo",{id:this.id},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:l("token")},toast:!1}).then((t=>{this.productInfo=t.data,this.$refs.myFileUploadImage.fileList=t.batchSources.filter((t=>"image"===t.sourceType)).map((t=>({...t,resourceUrl:t.sourcePath}))),this.$refs.myFileUploadVideo.fileList=t.batchSources.filter((t=>"video"===t.sourceType)).map((t=>({...t,resourceUrl:t.sourcePath})))}))},actionToProcessing(){a({title:"去加工",duration:2e3})},actionSearch(){a({title:"点击搜索",duration:2e3})},actionToDetail(){r({url:"/pages/processing/detail"})},doSomething(){},ajaxXxx(){}}},[["render",function(t,e,l,a,o,s){const d=p,r=u(c("u-navbar"),_),U=u(c("dw-cell"),x),T=n("myFileUpload"),j=u(c("dw-cell-group"),w),F=u(c("u-collapse-item"),b),R=u(c("u-collapse"),k);return h(),i(d,{class:"processing"},{default:f((()=>[m(r,{onRightClick:s.actionConfirm,title:"屠宰详情",autoBack:!0,placeholder:"",border:""},{right:f((()=>[m(d,{class:"u-nav-slot"},{default:f((()=>[g(" 保存 ")])),_:1})])),_:1},8,["onRightClick"]),m(d,{class:"processing-body"},{default:f((()=>[m(R,{value:[0,1]},{default:f((()=>[m(F,{title:"屠宰后产品"},{default:f((()=>[m(j,null,{default:f((()=>[m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(o.productInfo.productName),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("产品名称")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(o.productInfo.storeCount)+I(o.productInfo.harvestUnit),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("库存数量")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(o.productInfo.productAmount)+I(o.productInfo.harvestUnit),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("屠宰后数量")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,{class:"text-right",style:{width:"460rpx","word-break":"break-all"}},{default:f((()=>[g(I(o.productInfo.productPc),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2",style:{"white-space":"nowrap"}},{default:f((()=>[g("产品追溯码")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(s.timeFormat()(o.productInfo.harvestTime,"yyyy-mm-dd")),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("屠宰时间")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g("无")])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("认证类型")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(o.productInfo.mediCheck)+I(o.productInfo.mediResult),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("质检情况")])),_:1})])),_:1}),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(o.productInfo.proofNumber),1)])),_:1})])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("检疫证号")])),_:1})])),_:1}),m(U,{"footer-border":!1,background:"transparent"},{footer:f((()=>[m(T,{"max-count":3,ref:"myFileUploadImage"},null,512)])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("图片")])),_:1})])),_:1}),m(U,{"footer-border":!1,background:"transparent"},{footer:f((()=>[m(T,{"max-count":1,ref:"myFileUploadVideo",title:"选择视频"},null,512)])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("视频")])),_:1})])),_:1})])),_:1})])),_:1}),m(F,{title:"屠宰前产品"},{default:f((()=>[(h(!0),y(v,null,S(o.ttsScltxxcjSlaRecord,((t,e)=>(h(),i(j,{key:e},{default:f((()=>[m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(t.NAME),1)])),_:2},1024)])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("产品名称")])),_:1})])),_:2},1024),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(t.SLAUGHTER_AMOUNT)+I(t.HARVEST_UNIT),1)])),_:2},1024)])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("屠宰前数量")])),_:1})])),_:2},1024),m(U,null,{extra:f((()=>[m(d,null,{default:f((()=>[g(I(t.HARVEST_BASENAME),1)])),_:2},1024)])),default:f((()=>[m(d,{class:"text-level2"},{default:f((()=>[g("出栏圈舍")])),_:1})])),_:2},1024),m(U,null,{extra:f((()=>[m(d,{class:"text-right",style:{width:"460rpx","word-break":"break-all"}},{default:f((()=>[g(I(t.PRODUCT_PC),1)])),_:2},1024)])),default:f((()=>[m(d,{class:"text-level2",style:{"white-space":"nowrap"}},{default:f((()=>[g("产品溯源码")])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-cf788878"]]);export{U as default};
