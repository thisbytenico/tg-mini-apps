import{_ as t,C as e,E as a,x as s,y as i,A as o,G as l,H as r,h as d,w as n,Y as c,p as u,a4 as h,g as f,i as p,k as m,r as _,F as E,l as T,n as g,t as I}from"./index-CBLTQg_b.js";import{_ as b}from"./u-read-more.0vsBxhUK.js";import{_ as y}from"./u-button.D235zKSd.js";import"./u-loading-icon.Bdr6stTV.js";const A=t({name:"",components:{},data:()=>({isDefault:!0,curItem:"",list:[{title:"可采收",type:"采收",list:[{title:"米粉"}]},{title:"可收获的畜牧业副产品",type:"收获",list:[{title:"活牛"},{title:"活羊"}]},{type:"出栏",title:"可出栏的畜兽",list:[{title:"带鱼"}]},{type:"捕捞",title:"可捕捞的水产",list:[{title:"带鱼"}]}]}),onLoad(t){this.getBuildTraceList()},watch:{},computed:{},methods:{actionSubmit(){let t,s="";if(this.list.forEach((e=>{e.list.forEach((a=>{a.isShow&&(t=a,s=e.type)}))})),!t)return e("请选择要收获的产业");let i={AGRI_PRODUCT_NAME:t.productName,BASE_ID:t.baseId,INDUSTRY_TYPE:t.productType,NAME:t.alias,AREA:t.output,AREA_UNIT:t.unit,ID:t.agriProductionId,AGRI_PRODUCT_CODE:t.productCode,startTime:t.agriCreateTime},o={NAME:t.baseName,ADDRESS_NAME:t.address,AREA:t.baseArea,DICT_NAME:t.areaUnit,MANAGER:t.managerPerson,LONGITUDE:t.longitude,LATITUDE:t.latitude,PICTURE:t.picture,pictureTwo:t.pictureTwo,ID:t.baseId};a({url:"/pages/harvest/harvest?info="+encodeURIComponent(JSON.stringify(i))+"&baseInfo="+decodeURIComponent(JSON.stringify(o))+"&title="+s})},change(t){this.list.forEach((t=>{t.list.forEach((t=>{t.isShow=!1}))})),t.isShow=!t.isShow},actionDelete(t){this.fileList.splice(t.index,1),s({icon:"none",title:"删除图片"})},afterRead(){},ajaxXxx(){},getBuildTraceList(){i.post("sofn-tts-web-branch/ttsTrace/getBuildTraceList",{entityIdCode:o("userInfo").entityIdcode},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:o("token")},toast:!1}).then((t=>{200==t.httpCode?(this.list[0].list=t.data.zhongzhi,this.list[1].list=t.data.byProduct,this.list[2].list=t.data.xumu,this.list[3].list=t.data.yuye,this.list.forEach((t=>{t.list.forEach((t=>{t.isShow=!1}))})),this.$nextTick((()=>{this.$refs.uReadMore.forEach((t=>{t.init()}))}))):e(t.msg)}))}}},[["render",function(t,e,a,s,i,o){const A=l(r("u-navbar"),c),C=u,w=l(r("u-read-more"),b),N=l(r("dw-cell"),h),R=l(r("u-button"),y);return f(),d(C,{class:"harvest"},{default:n((()=>[p(A,{title:"收获",autoBack:!0,placeholder:"",border:""}),p(C,{class:"harvest-body"},{default:n((()=>[(f(!0),m(E,null,_(i.list,((t,e)=>(f(),d(N,{"footer-border":!1,background:"transparent",key:e},{footer:n((()=>[p(w,{ref_for:!0,ref:"uReadMore",showHeight:"200",closeText:"展开",toggle:"收起",color:"#00b568"},{default:n((()=>[p(C,null,{default:n((()=>[p(C,{class:"harvest-input-group col3"},{default:n((()=>[(f(!0),m(E,null,_(t.list,(t=>(f(),d(C,{class:g(["harvest-card",{checked:t.isShow}]),onClick:e=>o.change(t),key:t.productName},{default:n((()=>[p(C,null,{default:n((()=>[T(I(t.productName),1)])),_:2},1024),p(C,{class:"harvest-card-desc"},{default:n((()=>[T(I(t.baseName),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1536)])),default:n((()=>[p(C,null,{default:n((()=>[T(I(t.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),p(C,{class:"harvest-footer"},{default:n((()=>[p(R,{style:{background:"#00B568",color:"#FFF"},onClick:o.actionSubmit},{default:n((()=>[T("下一步")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-4637b18f"]]);export{A as default};
