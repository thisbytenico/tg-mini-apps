import{_ as a,al as e,$ as t,Q as s,v as l,a6 as o,y as i,A as r,E as n,G as d,H as c,L as u,k as m,i as f,w as g,F as p,O as h,Y as _,p as y,M as b,N as w,g as x,r as k,h as U,l as C,t as F,I as v,J as j,q as N}from"./index-BUnLS0SE.js";import{_ as L}from"./dw-card.thw4LkDT.js";import{U as M}from"./userMenu.DiEZ6cs2.js";import{P as T}from"./pageFooter.C-7UZqFn.js";import"./index.CItzj2I-.js";const S=a({name:"",components:{PageFooter:T,UserMenu:M},data:()=>({isShowUserMenu:!1,isDefault:!0,dataList:[],timeFormat:e}),onLoad(a){t("agriculturalActivitesRefresh",(()=>{this.$refs.paging.reload()}))},onUnload(){s("agriculturalActivitesRefresh")},watch:{},computed:{},methods:{config:()=>l,actionDelete(a){o({title:"提示",content:"确定删除吗？",success:e=>{e.confirm&&i.post("sofn-tts-web-branch/ttsScltxxcjFarmingTask/deleteFarmingTask",{id:a.farmId},{header:{token:r("token")},toast:!1}).then((a=>{this.$refs.paging.reload()}))}})},actionEdit(a){n({url:`/pages/agriculturalActivites/edit?type=edit&info=${encodeURIComponent(JSON.stringify(a))}`})},queryList(a,e){i.post("sofn-tts-web-branch/ttsScltxxcjFarmingTask/getAllFarmingTask?id="+r("userInfo").id,{},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:r("token")},toast:!1}).then((a=>{this.$refs.paging.complete(a.data)}))},ajaxXxx(){}}},[["render",function(a,e,t,s,l,o){const i=d(c("dw-icon"),h),r=d(c("u-navbar"),_),n=y,M=j,T=d(c("dw-card"),L),S=N,A=d(c("z-paging"),b),q=u("PageFooter"),I=u("UserMenu"),$=d(c("u-popup"),w);return x(),m(p,null,[f(n,{class:"agr-act"},{default:g((()=>[f(r,{title:"农事",placeholder:"",border:""},{left:g((()=>[f(i,{name:"menu",size:"36rpx",onClick:e[0]||(e[0]=a=>l.isShowUserMenu=!0)})])),_:1}),f(n,{class:"agr-act-body"},{default:g((()=>[f(A,{fixed:!1,ref:"paging",modelValue:l.dataList,"onUpdate:modelValue":e[1]||(e[1]=a=>l.dataList=a),onQuery:o.queryList},{bottom:g((()=>[f(n,{style:{height:"130rpx"}})])),default:g((()=>[(x(!0),m(p,null,k(l.dataList,((a,e)=>(x(),U(n,{class:"agr-act-item",key:e},{default:g((()=>[f(T,{shape:"square"},{default:g((()=>[f(n,{class:"agr-act-item-header pt6"},{default:g((()=>[f(n,{class:"agr-act-item-header-date"},{default:g((()=>[C(F(l.timeFormat(a.operationTime,"yyyy-mm-dd")),1)])),_:2},1024),f(n,{class:"fw700"},{default:g((()=>[C(F(a.operationName),1)])),_:2},1024)])),_:2},1024),f(n,{class:"agr-act-item-body"},{default:g((()=>[f(n,{class:"flex ft14 justify-between mb6"},{default:g((()=>[f(n,null,{default:g((()=>[C("操作人员："+F(a.handlerName),1)])),_:2},1024),f(n,{class:"text-desc"},{default:g((()=>[C(F(a.inputsName)+" "+F(a.inputsNumber)+F(a.inputsUnit),1)])),_:2},1024)])),_:2},1024),f(n,{class:"agr-act-item-body-info"},{default:g((()=>[C(F(a.remark),1)])),_:2},1024),a.photoUrl?(x(),U(n,{key:0,class:"agr-act-item-body-images"},{default:g((()=>[(x(!0),m(p,null,k(a.photoUrl.split(",")||[],((a,e)=>(x(),U(n,{class:"agr-act-item-body-images-item"},{default:g((()=>[f(M,{class:"agr-act-item-body-images-item-img",mode:"cover",src:o.config().baseUrl+"/sofn-sys-web/sysTemplate/downPic?fileUrl="+a},null,8,["src"])])),_:2},1024)))),256))])),_:2},1024)):v("",!0)])),_:2},1024),f(n,{class:"agr-act-item-footer pb6"},{default:g((()=>[f(n,{class:"agr-act-item-footer-btn",onClick:e=>o.actionDelete(a)},{default:g((()=>[f(i,{name:"delete",size:"28rpx",color:"#BCC1CE"}),C(" 删除 ")])),_:2},1032,["onClick"]),f(n,{class:"agr-act-item-footer-btn",onClick:e=>o.actionEdit(a)},{default:g((()=>[f(i,{name:"edit-square",size:"28rpx",color:"#21B160"}),C(" 编辑 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),f(n,{class:"agr-act-item-base"},{default:g((()=>[f(S,{class:"mr2"},{default:g((()=>[C("·")])),_:1}),f(S,{class:"mr20"},{default:g((()=>[C(F(a.landName),1)])),_:2},1024),f(S,null,{default:g((()=>[C(F(a.productName),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue","onQuery"])])),_:1})])),_:1}),f(n,null,{default:g((()=>[f(q,{tabName:"agriculturalActivites"}),f($,{show:l.isShowUserMenu,mode:"left",onClose:e[2]||(e[2]=a=>l.isShowUserMenu=!1)},{default:g((()=>[f(n,{style:{width:"65vw",height:"100%",overflow:"hidden"}},{default:g((()=>[f(I)])),_:1})])),_:1},8,["show"])])),_:1})],64)}],["__scopeId","data-v-04d741e3"]]);export{S as default};
