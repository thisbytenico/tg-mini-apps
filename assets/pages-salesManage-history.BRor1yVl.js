import{_ as a,E as e,y as t,A as s,G as l,H as o,h as r,w as c,Y as n,p as d,a4 as i,M as u,g as h,i as _,k as p,r as f,F as g,l as m,t as T,J as w}from"./index-Ci2ntzNm.js";import{_ as S}from"./u-search.BxsWfdfi.js";import{_ as C}from"./dw-card.fADXVOCt.js";const I=a({name:"",components:{},data:()=>({keyword:"",dataList:[]}),created(){},watch:{},computed:{},methods:{getIcon(a){switch(a){case"01":return"batch_planting";case"02":return"batch_livestock";case"03":return"batch_water";default:return"icon_zhongzhi"}},actionSearch(){this.$refs.paging.reload()},actionCustomSearch(){this.$refs.paging.reload()},actionToDetail(a){e({url:"/pages/salesManage/detail?id="+a.ID})},queryList(a,e){let l=10*a;t.post("sofn-tts-web-branch/ttsScltxxcjXsdj/getPageInfo",{start:l,length:10,entity_id:s("userInfo").id,keyWord:this.keyword},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:s("token")},toast:!1}).then((a=>{a.data.list.forEach((a=>{"H"==a.CONFIRM_STATE&&(a.CONFIRM_STATE="换货"),"N"==a.CONFIRM_STATE&&(a.CONFIRM_STATE="待确认"),"Y"==a.CONFIRM_STATE&&(a.CONFIRM_STATE="已完成")})),this.$refs.paging.complete(a.data.list)}))},ajaxXxx(){}}},[["render",function(a,e,t,s,I,k){const y=l(o("u-navbar"),n),A=l(o("u-search"),S),x=w,E=d,N=l(o("dw-cell"),i),M=l(o("dw-card"),C),R=l(o("z-paging"),u);return h(),r(E,{class:"sales"},{default:c((()=>[_(y,{title:"销售历史",autoBack:!0,placeholder:"",border:""}),_(A,{class:"sales-search",shape:"square",placeholder:"请输入关键字搜索",modelValue:I.keyword,"onUpdate:modelValue":e[0]||(e[0]=a=>I.keyword=a),showAction:!1,onSearch:k.actionSearch,onCustom:k.actionCustomSearch},null,8,["modelValue","onSearch","onCustom"]),_(E,{class:"sales-list"},{default:c((()=>[_(R,{"default-page-no":"0",fixed:!1,ref:"paging",modelValue:I.dataList,"onUpdate:modelValue":e[1]||(e[1]=a=>I.dataList=a),onQuery:k.queryList},{default:c((()=>[(h(!0),p(g,null,f(I.dataList,((a,e)=>(h(),r(M,{onClick:e=>k.actionToDetail(a),class:"mb12",shape:"square",key:e},{default:c((()=>[_(N,{class:"sales-card"},{prefix:c((()=>[_(x,{class:"sales-card-icon",mode:"widthFix",src:"../../static/images/"+k.getIcon(a.PRODUCT_INDUSTRY)+".png"},null,8,["src"])])),default:c((()=>[_(E,null,{default:c((()=>[_(E,null,{default:c((()=>[m(T(a.PRODUCT_NAME)+" ",1),_(E,{class:"sales-card-tag"},{default:c((()=>[m(T(a.CONFIRM_STATE),1)])),_:2},1024)])),_:2},1024),_(E,{class:"text-level2 ft14"},{default:c((()=>[m("销售："+T(a.SALE_AMOUNT)+T(a.HARVEST_UNIT),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"])])),_:1})])),_:1})}],["__scopeId","data-v-3adca6cc"]]);export{I as default};
