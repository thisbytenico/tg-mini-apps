import{_ as t,al as e,E as a,y as l,A as s,v as i,G as c,H as n,L as o,h as d,w as f,Y as r,p as A,O as u,a4 as b,g as h,i as m,l as p,t as g,I as y,k as I,r as C,F as B,J as w,q as k}from"./index-CBLTQg_b.js";import{L as v}from"./line.ClASPdZV.js";const L=t({name:"",components:{Line:v},data:()=>({timeFormat:e,list:[],traceCode:"",traceId:"",entityIdCode:"",info:{agriProductionInfo:{},baseInfo:{},taskInfo:{},traceInfo:{}}}),created(){},onLoad(t){this.id=t.id,this.traceCode=t.traceCode,this.entityIdCode=t.entityIdCode,this.getProductInfo()},watch:{},computed:{},methods:{actionJumpTo(t){a({url:t})},doSomething(){},getIcon(t){if(t)switch(String(t).substring(0,2)){case"01":return"batch_planting";case"02":return"batch_livestock";default:return"batch_water"}},getCertListDetail(){l.post("sofn-tts-web-branch/ttsCertification/getCertListDetail",{traceCode:this.traceCode,traceId:this.id,entityIdCode:this.entityIdCode},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:s("token")},toast:!1}).then((t=>{this.list=t.data.list}))},getProductInfo(){l.post("sofn-tts-web-branch/ttsTrace/getTraceDetail",{id:this.id},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:s("token")},toast:!1}).then((t=>{this.info=t.data,this.info.baseInfo.picture=i.baseUrl+"/sofn-sys-web/sysTemplate/downPic?fileUrl="+this.info.baseInfo.picture,this.info.baseInfo.pictureTwo=i.baseUrl+"/sofn-sys-web/sysTemplate/downPic?fileUrl="+this.info.baseInfo.pictureTwo,this.getCertListDetail()}))}}},[["render",function(t,e,a,l,s,i){const v=c(n("u-navbar"),r),L=w,T=A,N=k,F=c(n("dw-icon"),u),G=c(n("dw-cell"),b),x=o("Line");return h(),d(T,{class:"batch-detail"},{default:f((()=>[m(v,{title:"批次详情",autoBack:!0,placeholder:"",border:""}),m(T,{class:"batch-detail-body"},{default:f((()=>[m(G,null,{prefix:f((()=>[m(L,{class:"batch-item-img",src:"../../static/images/"+i.getIcon(s.info.traceInfo.productType)+".png"},null,8,["src"])])),extra:f((()=>[m(T,{class:"text-desc ft10 text-right"},{default:f((()=>[m(T,null,{default:f((()=>[m(N,{class:"fw700 text-level1"},{default:f((()=>[p(g(s.info.traceInfo.count),1)])),_:1}),p(g(s.info.traceInfo.unit),1)])),_:1}),m(T,{class:"mt4"},{default:f((()=>[p(g(s.timeFormat(s.info.traceInfo.createTime,"yyyy-mm-dd"))+"创建",1)])),_:1})])),_:1})])),footer:f((()=>[m(T,{class:"flex"},{default:f((()=>[m(T,{class:"ellipsis"},{default:f((()=>[m(F,{name:"location-fill",color:"#A2A8B3"}),p(" 产地："+g(s.info.baseInfo.address),1)])),_:1}),m(T,{class:"ml10 flex-0"},{default:f((()=>[p("负责人："+g(s.info.traceInfo.manager),1)])),_:1})])),_:1}),m(T,{class:"flex flex-wrap mt10"},{default:f((()=>[m(L,{class:"batch-detail-img",mode:"cover",src:s.info.baseInfo.picture},null,8,["src"]),m(L,{class:"batch-detail-img",mode:"cover",src:s.info.baseInfo.pictureTwo},null,8,["src"])])),_:1})])),default:f((()=>[m(T,{class:"batch-item-title"},{default:f((()=>[p(g(s.info.traceInfo.alias),1)])),_:1}),m(T,{class:"batch-item-desc text-level2 ft14 mt2"},{default:f((()=>[p("产品分类："+g(s.info.traceInfo.productName),1)])),_:1})])),_:1}),s.list.length?(h(),d(T,{key:0,class:"mt10 mb4"},{default:f((()=>[p("合格证开具记录：")])),_:1})):y("",!0),s.list.length?(h(),d(x,{key:1})):y("",!0),(h(!0),I(B,null,C(s.list,((t,a)=>(h(),d(T,{class:"batch-detail-section flex justify-between",key:a},{default:f((()=>[m(T,null,{default:f((()=>[m(T,null,{default:f((()=>[p(g(t.productName+t.amount+t.unit),1)])),_:2},1024),m(T,{class:"batch-detail-cell"},{default:f((()=>[m(T,{class:"batch-detail-cell-label"},{default:f((()=>[p("证号：")])),_:1}),m(T,{class:"batch-detail-cell-val"},{default:f((()=>[p(g(t.certificationCode),1)])),_:2},1024)])),_:2},1024),m(T,{class:"batch-detail-cell"},{default:f((()=>[m(T,{class:"batch-detail-cell-label"},{default:f((()=>[p("张数：")])),_:1}),m(T,{class:"batch-detail-cell-val"},{default:f((()=>[p(g(t.issueSheets)+"张",1)])),_:2},1024)])),_:2},1024),m(T,{class:"batch-detail-cell"},{default:f((()=>[m(T,{class:"batch-detail-cell-label"},{default:f((()=>[p("开具时间：")])),_:1}),m(T,{class:"batch-detail-cell-val"},{default:f((()=>[p(g(s.timeFormat(t.createTime,"yyyy-mm-dd hh:MM:ss")),1)])),_:2},1024)])),_:2},1024),m(T,{class:"batch-detail-cell"},{default:f((()=>[m(T,{class:"batch-detail-cell-label"},{default:f((()=>[p("合格方式：")])),_:1}),m(T,{class:"batch-detail-cell-val"},{default:f((()=>[p(g(t.eligibleWay),1)])),_:2},1024)])),_:2},1024),m(T,{class:"batch-detail-cell"},{default:f((()=>[m(T,{class:"batch-detail-cell-label"},{default:f((()=>[p("开具地点：")])),_:1}),m(T,{class:"batch-detail-cell-val"},{default:f((()=>[p(g(t.address),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),m(T,{class:"flex flex-col justify-end items-end ml10"},{default:f((()=>[m(T,{class:"batch-detail-btn",onClick:e=>i.actionJumpTo("/pages/qualificationCertificate/detail?info="+encodeURIComponent(JSON.stringify(t)))},{default:f((()=>[p("查看电子合格证")])),_:2},1032,["onClick"]),m(T,{class:"batch-detail-btn primary mt10",onClick:e[0]||(e[0]=t=>i.actionJumpTo("/pages/print/print"))},{default:f((()=>[m(F,{name:"print"}),p(" 打印 ")])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1}),m(T,{class:"batch-detail-footer",onClick:e[1]||(e[1]=t=>i.actionJumpTo("/pages/qualificationCertificate/create?info="+encodeURIComponent(JSON.stringify(s.info.traceInfo))))},{default:f((()=>[m(L,{class:"batch-detail-footer-icon",src:"data:image/png;base64,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"}),m(T,{class:"batch-detail-footer-btn"},{default:f((()=>[p("开合格证")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-3823f7ed"]]);export{L as default};
