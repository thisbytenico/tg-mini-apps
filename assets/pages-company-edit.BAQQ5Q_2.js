import{_ as t,V as e,x as a,y as o,A as n,W as s,X as i,C as l,G as r,H as d,h as m,w as p,p as f,Y as c,g as h,i as u,l as x,I as g}from"./index-CBLTQg_b.js";import{_ as k}from"./u-textarea.DUGeh_m2.js";const b=t({name:"",components:{},data:()=>({pageTitle:"",formData:{textarea:""}}),onLoad(t){const{pageTitle:a,info:o}=t;let n=JSON.parse(decodeURIComponent(o));this.info=n,this.pageTitle=a,e({title:a}),console.log(n),"企业简介"===a?this.formData.textarea=n.empProfile:"企业店铺"===a&&(this.formData.textarea=n.onlineStoreLink)},watch:{},computed:{},methods:{actionSubmit(){if(!this.formData.textarea)return a({icon:"none",title:"请输入内容"});"企业简介"===this.pageTitle&&o.post("sofn-tts-web-branch//ttsScltxxcjEmpInfo/updateEmpInfo",{id:this.info.id,empProfile:this.formData.textarea},{header:{token:n("token")},toast:!1}).then((t=>{200==t.httpCode?(s("refreshCompanyInfo"),a({icon:"none",title:"修改成功"}),i()):l(t.msg)})),"企业店铺"===this.pageTitle&&o.post("sofn-tts-web-branch//ttsScltxxcjEmpInfo/updateEmpInfo",{id:this.info.id,onlineStoreLink:this.formData.textarea},{header:{token:n("token")},toast:!1}).then((t=>{200==t.httpCode?(s("refreshCompanyInfo"),a({icon:"none",title:"修改成功"}),i()):l(t.msg)}))},doSomething(){},ajaxXxx(){}}},[["render",function(t,e,a,o,n,s){const i=f,l=r(d("u-navbar"),c),b=r(d("u-textarea"),k);return h(),m(i,{class:"company-edit"},{default:p((()=>[u(l,{title:n.pageTitle,onRightClick:s.actionSubmit,autoBack:!0,placeholder:"",border:""},{right:p((()=>[u(i,{class:"u-nav-slot"},{default:p((()=>[x("确定 ")])),_:1})])),_:1},8,["title","onRightClick"]),u(i,{class:"pt6"}),"企业简介"===n.pageTitle?(h(),m(b,{key:0,modelValue:n.formData.textarea,"onUpdate:modelValue":e[0]||(e[0]=t=>n.formData.textarea=t),placeholder:"请输入内容"},null,8,["modelValue"])):"企业店铺"===n.pageTitle?(h(),m(b,{key:1,modelValue:n.formData.textarea,"onUpdate:modelValue":e[1]||(e[1]=t=>n.formData.textarea=t),placeholder:"请输入内容",style:{background:"#FFF"}},null,8,["modelValue"])):g("",!0)])),_:1})}],["__scopeId","data-v-da3a0aab"]]);export{b as default};
