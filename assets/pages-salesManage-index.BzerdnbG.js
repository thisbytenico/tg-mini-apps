import{_ as a,E as e,y as s,A as t,G as o,H as l,h as c,w as r,p as n,Y as i,a4 as d,M as u,O as f,g as h,i as p,l as _,k as g,r as m,F as y,t as C,J as T}from"./index-Ci2ntzNm.js";import{_ as k}from"./u-search.BxsWfdfi.js";import{_ as w}from"./dw-card.fADXVOCt.js";const x=a({name:"",components:{},data:()=>({keyword:"",dataList:[]}),created(){},watch:{},computed:{},methods:{getIcon(a){switch(a){case"01":return"icon_zhongzhi";case"02":return"icon_xumu";case"03":return"icon_shuichan";default:return"icon_jg_logo"}},actionToCirculation(){e({url:"/pages/salesManage/circulation"})},actionToMarketEntry(){e({url:"/pages/salesManage/marketEntry"})},actionToHistory(){e({url:"/pages/salesManage/history"})},actionSearch(){this.$refs.paging.reload()},actionCustomSearch(){this.$refs.paging.reload()},actionToDetail(){},queryList(a,e){let o=10*a;s.post("sofn-tts-web-branch/ttsScltxxcjScgl/getSaleList",{start:o,length:10,entity_id:t("userInfo").id,productName:this.keyword},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:t("token")},toast:!1}).then((a=>{this.$refs.paging.complete(a.data.list)}))},ajaxXxx(){}}},[["render",function(a,e,s,t,x,S){const O=n,U=o(l("u-navbar"),i),b=o(l("u-search"),k),M=T,R=o(l("dw-cell"),d),j=o(l("dw-card"),w),L=o(l("z-paging"),u),D=o(l("dw-icon"),f);return h(),c(O,{class:"sales"},{default:r((()=>[p(U,{title:"可销售产品",onRightClick:S.actionToHistory,autoBack:!0,placeholder:"",border:""},{right:r((()=>[p(O,{class:"u-nav-slot",style:{color:"#0FB262"}},{default:r((()=>[_(" 销售历史 ")])),_:1})])),_:1},8,["onRightClick"]),p(b,{class:"sales-search",shape:"square",placeholder:"请输入关键字",modelValue:x.keyword,"onUpdate:modelValue":e[0]||(e[0]=a=>x.keyword=a),showAction:!1,onSearch:S.actionSearch,onCustom:S.actionCustomSearch},null,8,["modelValue","onSearch","onCustom"]),p(O,{class:"sales-list"},{default:r((()=>[p(L,{fixed:!1,ref:"paging","default-page-no":"0",modelValue:x.dataList,"onUpdate:modelValue":e[1]||(e[1]=a=>x.dataList=a),onQuery:S.queryList},{default:r((()=>[(h(!0),g(y,null,m(x.dataList,((a,e)=>(h(),c(j,{onClick:S.actionToDetail,class:"mb12",shape:"square",key:e},{default:r((()=>[p(R,{class:"sales-card"},{prefix:r((()=>[p(M,{class:"sales-card-icon",mode:"widthFix",src:"../../static/images/"+S.getIcon(a.PRODUCT_INDUSTRY)+".png"},null,8,["src"])])),default:r((()=>[p(O,{class:"flex justify-between"},{default:r((()=>[p(O,null,{default:r((()=>[_(C(a.PRODUCT_NAME),1)])),_:2},1024),p(O,{class:"ft16 fw700",style:{color:"#FF8C2B"}},{default:r((()=>[_(C(a.STORE_COUNT),1)])),_:2},1024)])),_:2},1024),p(O,{class:"flex justify-between text-level2"},{default:r((()=>[p(O,{class:"ft14"},{default:r((()=>[_("总库存:"+C(a.PRODUCT_AMOUNT)+" 已销售:"+C((a.PRODUCT_AMOUNT-a.STORE_COUNT-a.LOSS).toFixed(2)),1)])),_:2},1024),p(O,{class:"ft10"},{default:r((()=>[_("可销售(千克)")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"])])),_:1}),p(O,{class:"sales-footer"},{default:r((()=>[p(O,{class:"sales-footer-btn",onClick:S.actionToCirculation},{default:r((()=>[p(D,{class:"mr4",name:"circulation",size:"36rpx"}),_(" 流通销售 ")])),_:1},8,["onClick"]),p(O,{class:"sales-footer-btn error",onClick:S.actionToMarketEntry},{default:r((()=>[p(D,{class:"mr4",name:"shop",size:"36rpx"}),_(" 入市销售 ")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-d650ca2e"]]);export{x as default};
