import{_ as e,W as a,X as s,y as t,A as o,G as c,H as r,h as l,w as d,Y as n,ad as i,p as u,M as h,g as p,i as f,l as g,k as m,r as _,F as k,t as C}from"./index-BUnLS0SE.js";import{_ as y}from"./u-search.BGGYXq0-.js";import{_ as w}from"./dw-card.thw4LkDT.js";const x=e({name:"",components:{},data:()=>({keyword:"",dataList:[]}),created(){},watch:{},computed:{},methods:{actionConfirm(){let e=this.dataList.filter((e=>e.checked));if(0===e.length)return this.$u.toast("请选择原料");a("processMaterialsSelect",e),s()},actionSearch(){this.$refs.paging.reload()},actionCustomSearch(){this.$refs.paging.reload()},actionToDetail(e){e.checked=!e.checked,console.log(e.checked)},queryList(e,a){let s=10*e;t.post("sofn-tts-web-branch/ttsProcess/getProcessMaterials",{start:s,length:10,entityId:o("userInfo").id,productName:this.keyword},{header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:o("token")},toast:!1}).then((e=>{e.data.list.forEach((e=>{e.checked=!1})),this.$refs.paging.complete(e.data.list)}))},ajaxXxx(){}}},[["render",function(e,a,s,t,o,x){const T=c(r("u-navbar"),n),S=c(r("u-search"),y),b=c(r("u-checkbox"),i),L=u,U=c(r("dw-card"),w),V=c(r("z-paging"),h);return p(),l(L,{class:"agr-product"},{default:d((()=>[f(T,{title:"生产原料",autoBack:!0,onRightClick:x.actionConfirm,placeholder:"",border:""},{right:d((()=>[g(" 确定 ")])),_:1},8,["onRightClick"]),f(S,{class:"agr-product-search",shape:"square",placeholder:"搜索",modelValue:o.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>o.keyword=e),showAction:!1,onSearch:x.actionSearch,onCustom:x.actionCustomSearch},null,8,["modelValue","onSearch","onCustom"]),f(L,{class:"agr-product-list"},{default:d((()=>[f(V,{fixed:!1,ref:"paging",modelValue:o.dataList,"onUpdate:modelValue":a[1]||(a[1]=e=>o.dataList=e),"default-page-no":"0",onQuery:x.queryList},{default:d((()=>[(p(!0),m(k,null,_(o.dataList,((e,a)=>(p(),l(U,{onClick:a=>x.actionToDetail(e),class:"mb12",shape:"square",key:a},{default:d((()=>[f(L,{class:"flex items-center"},{default:d((()=>[f(L,{class:"mr4 flex-none",style:{"pointer-events":"none"}},{default:d((()=>[f(b,{checked:e.checked,shape:"circle",activeColor:"#00B568"},null,8,["checked"])])),_:2},1024),f(L,{style:{flex:"1",overflow:"hidden"}},{default:d((()=>[f(L,{class:"processing-card"},{default:d((()=>[f(L,{class:"processing-card-header"},{default:d((()=>[f(L,{class:"processing-card-title"},{default:d((()=>[g(C(e.PRODUCT_NAME),1)])),_:2},1024),f(L,{class:"processing-card-nums"},{default:d((()=>[g(C(e.STORE_COUNT),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),f(L,{class:"processing-card-body"},{default:d((()=>[f(L,{class:"processing-card-code"},{default:d((()=>[g("追溯码:"+C(e.PRODUCT_PC),1)])),_:2},1024),f(L,{class:"processing-card-unit"},{default:d((()=>[g("库存("+C(e.HARVEST_UNIT)+")",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"])])),_:1})])),_:1})}],["__scopeId","data-v-b0c58d50"]]);export{x as default};
